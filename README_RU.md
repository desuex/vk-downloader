# VK Downloader

Набор Python-скриптов для извлечения и загрузки данных из архива ВКонтакте. Эти скрипты работают с локальными HTML-файлами, выгруженными из архива ВКонтакте, и **не требуют предоставления данных для авторизации или API-токенов**.

## Описание

В репозитории представлены два скрипта:

1. **VK Message Attachments Downloader (`download_messages.py`)**: Загружает изображения из ваших сообщений ВКонтакте.
2. **VK Photo Albums Downloader (`download_albums.py`)**: Загружает все изображения из ваших фотоальбомов ВКонтакте.

---

## Возможности

### Общие
- **Не требуется авторизация**: Скрипты работают с локальными файлами без токенов и логинов.
- **Пользовательский User-Agent**: Имитация браузера для обхода блокировок.
- **Повторные попытки**: Автоматический повтор загрузки в случае ошибок.
- **Валидация данных**: Пропуск невалидных ссылок и неподдерживаемых типов файлов.

### VK Message Attachments Downloader
- Организует вложения из сообщений по именам контактов.
- Поддерживает пагинацию файлов сообщений и пропускает не связанные с изображениями ссылки.

### VK Photo Albums Downloader
- Извлекает и загружает все изображения из фотоальбомов.
- Организует изображения по названиям альбомов.

---

## Как получить архив ВКонтакте

1. **Запрос архива**:
   - Перейдите в **Настройки → Конфиденциальность → Выгрузить данные** ([Прямая ссылка](https://vk.com/data_protection?section=rules&scroll_to_archive=1)).
   - Выберите типы данных для выгрузки (например, сообщения, фотографии).
   - Подтвердите запрос.
2. **Ожидание подготовки архива**:
   - Это может занять несколько дней.
3. **Скачивание архива**:
   - Скачайте архив по предоставленной ссылке.
   - Распакуйте `.zip`-файл на свой компьютер.

---

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/desuex/vk-downloader.git
   cd vk-downloader
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

---

## Использование

### VK Message Attachments Downloader

```bash
python download_messages.py --root-dir <ПУТЬ_К_СООБЩЕНИЯМ> --download-dir <ПУТЬ_ДЛЯ_СОХРАНЕНИЯ> [--force]
```

### VK Photo Albums Downloader

```bash
python download_albums.py --root-dir <ПУТЬ_К_АЛЬБОМАМ> --download-dir <ПУТЬ_ДЛЯ_СОХРАНЕНИЯ>
```

---

## Требования

- Python 3.9+
- Зависимости из `requirements.txt`:
  ```plaintext
  requests
  bs4
  beautifulsoup4
  charset-normalizer
  ```

---

## Лицензия

Этот проект распространяется по лицензии MIT. Подробнее в файле `LICENSE`.
